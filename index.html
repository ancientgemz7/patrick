<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Garou Tiles Game</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: url('grass.png') no-repeat center/cover;
      height: 100vh;
      font-family: Arial, sans-serif;
      color: white;
      text-align: center;
      user-select: none;
    }

    h1 {
      margin-top: 10px;
      font-size: 28px;
      text-shadow: 2px 2px 5px black;
    }

    #topBar {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 40px;
      margin-top: 10px;
    }

    #score {
      font-size: 24px;
    }

    #hearts {
      font-size: 24px;
      color: red;
      text-shadow: 2px 2px 5px black;
    }

    #game {
      position: relative;
      width: 900px;
      height: 600px;
      margin: 20px auto;
      border: 3px solid white;
      display: flex;
      justify-content: space-between;
    }

    .lane {
      position: relative;
      width: 100px;
      height: 100%;
      border-left: 1px solid rgba(255,255,255,0.2);
      border-right: 1px solid rgba(255,255,255,0.2);
    }

    .garou {
      position: absolute;
      width: 100px;
      height: 100px;
      background: url('garou.png') no-repeat center/contain;
      top: -100px;
    }

    #speedControl {
      margin-top: 5px;
      font-size: 18px;
    }

    #gameOver {
      display: none;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0, 0, 0, 0.8);
      padding: 30px 50px;
      border-radius: 15px;
      font-size: 32px;
      color: red;
      text-shadow: 2px 2px 8px black;
    }
  </style>
</head>
<body>
  <h1>üéÆ Garou Tiles Game üéπ</h1>
  <div id="topBar">
    <div id="score">Score: 0</div>
    <div id="hearts">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</div>
  </div>
  <div id="speedControl">
    Speed: <input type="range" id="speedSlider" min="2" max="10" step="0.5" value="5">
  </div>
  <div id="game"></div>
  <div id="gameOver">üíÄ Game Over! Press F5 to restart üíÄ</div>

  <script>
    const game = document.getElementById("game");
    const scoreDisplay = document.getElementById("score");
    const heartsDisplay = document.getElementById("hearts");
    const speedSlider = document.getElementById("speedSlider");
    const gameOverScreen = document.getElementById("gameOver");

    let score = 0;
    let speed = 5;
    let hearts = 5;
    let gameActive = true;

    // Create 9 lanes
    for (let i = 0; i < 9; i++) {
      const lane = document.createElement("div");
      lane.classList.add("lane");
      game.appendChild(lane);
    }

    const lanes = document.querySelectorAll(".lane");

    // Spawn Garou
    function spawnGarou() {
      if (!gameActive) return;

      const laneIndex = Math.floor(Math.random() * 9);
      const garou = document.createElement("div");
      garou.classList.add("garou");
      lanes[laneIndex].appendChild(garou);

      let pos = -100;
      const fallSpeed = speed;
      const fallInterval = setInterval(() => {
        if (!gameActive) {
          garou.remove();
          clearInterval(fallInterval);
          return;
        }

        pos += fallSpeed;
        garou.style.top = pos + "px";

        // Garou hits bottom
        if (pos > 520) {
          clearInterval(fallInterval);
          garou.remove();
          loseHeart();
        }
      }, 30);
    }

    // Lose one heart
    function loseHeart() {
      if (!gameActive) return;
      hearts--;
      updateHearts();
      if (hearts <= 0) {
        endGame();
      }
    }

    // Update heart display
    function updateHearts() {
      heartsDisplay.innerHTML = "‚ù§Ô∏è".repeat(hearts);
    }

    // End game
    function endGame() {
      gameActive = false;
      gameOverScreen.style.display = "block";
    }

    // Handle key presses 1‚Äì9
    document.addEventListener("keydown", (e) => {
      if (!gameActive) return;
      const key = parseInt(e.key);
      if (key >= 1 && key <= 9) {
        const lane = lanes[key - 1];
        const garou = lane.querySelector(".garou");
        if (garou) {
          garou.remove();
          score++;
          scoreDisplay.textContent = "Score: " + score;
        }
      }
    });

    // Adjust speed
    speedSlider.addEventListener("input", () => {
      speed = parseFloat(speedSlider.value);
    });

    // Spawn repeatedly
    const spawner = setInterval(() => {
      if (gameActive) spawnGarou();
    }, 500); // smaller = faster spawn
  </script>
</body>
</html>
